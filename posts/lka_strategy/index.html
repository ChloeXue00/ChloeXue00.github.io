<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>LKA（车道保持辅助）功能设计 | </title>
<meta name="keywords" content="L2, LKA, 自动驾驶, 控制策略">
<meta name="description" content="解析L2系统中LKA功能的子模块结构、控制策略、信号等内容">
<meta name="author" content="">
<link rel="canonical" href="//localhost:1313/posts/lka_strategy/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css" integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF&#43;13Dyqob6ASlTrTye8=" rel="preload stylesheet" as="style">
<link rel="icon" href="//localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="//localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="//localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="//localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="//localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="//localhost:1313/posts/lka_strategy/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      LKA（车道保持辅助）功能设计
    </h1>
    <div class="post-description">
      解析L2系统中LKA功能的子模块结构、控制策略、信号等内容
    </div>
    <div class="post-meta"><span title='2024-05-29 00:00:00 +0000 UTC'>May 29, 2024</span>

</div>
  </header> 
  <div class="post-content"><h1 id="1-功能概述function-overview">1. 功能概述（Function Overview）<a hidden class="anchor" aria-hidden="true" href="#1-功能概述function-overview">#</a></h1>
<p>LKA（Lane Keeping Assist，车道保持辅助系统）是一项基于车道线识别与方向盘控制的主动安全技术，属于车辆横向控制功能的一部分。系统通过摄像头等感知设备识别车道线，并结合车辆当前的横向位置和偏移趋势，判断是否存在偏离风险。一旦检测到车辆即将偏离车道且驾驶员未主动干预，LKA系统将自动输出轻微的方向盘转角，辅助驾驶员将车辆引导回车道中央区域，从而提升行车安全性与稳定性。</p>
<h2 id="11-设计背景">1.1 设计背景<a hidden class="anchor" aria-hidden="true" href="#11-设计背景">#</a></h2>
<p>随着高级驾驶辅助系统（ADAS）功能不断普及，驾驶安全性和驾驶员负荷降低已成为新一代乘用车系统设计的核心关注点。研究表明，车道偏离是高速和城市快速路行车事故的主要诱因之一，特别是在驾驶员注意力不集中、疲劳驾驶或短暂分心的情况下。LKA系统可作为传统LDW（车道偏离预警）的主动升级方案，在预警基础上提供方向干预控制，是实现L2级自动驾驶的重要组成模块。</p>
<h2 id="12-功能定位与边界">1.2 功能定位与边界<a hidden class="anchor" aria-hidden="true" href="#12-功能定位与边界">#</a></h2>
<p>LKA系统主要定位于 <strong>车道内的横向稳定辅助控制</strong>，其功能边界如下：</p>
<ul>
<li><strong>目标工况</strong>：高速公路、城市快速路等具有明确车道线标识的路段；</li>
<li><strong>速度范围</strong>：通常适用于 20–70 km/h 区间；</li>
<li><strong>工作条件</strong>：光照充足、车道线清晰、无打转向灯或刹车干预；</li>
<li><strong>系统行为</strong>：在满足启用条件时自动激活；驾驶员主动控制方向时自动退出；</li>
<li><strong>与LDW关系</strong>：LKA为主动控制系统，需与LDW系统共享感知信息并进行协同工作。</li>
</ul>
<h2 id="13-功能组成概览">1.3 功能组成概览<a hidden class="anchor" aria-hidden="true" href="#13-功能组成概览">#</a></h2>
<p>LKA系统主要包括以下核心模块：</p>
<ul>
<li><strong>感知输入模块</strong>：负责车道线识别、车辆偏离量计算；</li>
<li><strong>横向偏离速度模块</strong>：计算车辆在车道内的横向偏移趋势；</li>
<li><strong>偏离预警逻辑模块</strong>：判断车辆是否即将偏离车道；</li>
<li><strong>期望转角计算模块</strong>：基于Ackermann模型计算方向盘目标转角；</li>
<li><strong>使能控制模块</strong>：判断LKA是否满足启用/退出条件；</li>
<li><strong>状态管理与接口模块</strong>：负责功能状态发布、HMI交互和转向控制信号输出。</li>
</ul>
<p>系统设计需保证干预柔和、控制精准，并支持驾驶员优先权逻辑，避免产生突兀控制或误触发行为。</p>
<hr>
<h1 id="2-功能目标functional-goals">2. 功能目标（Functional Goals）<a hidden class="anchor" aria-hidden="true" href="#2-功能目标functional-goals">#</a></h1>
<p>LKA（Lane Keeping Assist，车道保持辅助系统）旨在在驾驶员未主动控制方向的情况下，协助车辆维持在当前车道内安全行驶，降低因注意力分散、疲劳驾驶或视线偏移而导致的车道偏离风险。LKA系统通过感知前方车道线、估算车辆偏离趋势，并适时输出方向盘转角指令，引导车辆回到车道中心。</p>
<h2 id="21-总体目标">2.1 总体目标<a hidden class="anchor" aria-hidden="true" href="#21-总体目标">#</a></h2>
<table>
  <thead>
      <tr>
          <th>目标编号</th>
          <th>功能目标描述</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>FG-1</td>
          <td>实现对车道线的实时感知与偏离趋势预测</td>
      </tr>
      <tr>
          <td>FG-2</td>
          <td>提供平稳、及时的方向盘转角控制，保持车辆居中行驶</td>
      </tr>
      <tr>
          <td>FG-3</td>
          <td>避免在不合适场景（如打转向灯、车速过低）下误触发</td>
      </tr>
      <tr>
          <td>FG-4</td>
          <td>支持驾驶员主动退出（踩刹车/打灯）与自动恢复机制</td>
      </tr>
      <tr>
          <td>FG-5</td>
          <td>与LDW（车道偏离预警）协同工作，提升整体车道安全策略</td>
      </tr>
      <tr>
          <td>FG-6</td>
          <td>满足系统可用性与鲁棒性设计，支持信号丢失、暂时遮挡等容错情况</td>
      </tr>
  </tbody>
</table>
<h2 id="22-用户视角目标">2.2 用户视角目标<a hidden class="anchor" aria-hidden="true" href="#22-用户视角目标">#</a></h2>
<table>
  <thead>
      <tr>
          <th>用户需求编号</th>
          <th>用户体验目标</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>UFG-1</td>
          <td>驾驶过程中能感知LKA介入但不引起突兀干预</td>
      </tr>
      <tr>
          <td>UFG-2</td>
          <td>在符合条件下，系统可自动维持车辆不偏离车道</td>
      </tr>
      <tr>
          <td>UFG-3</td>
          <td>用户可在App或HMI中自由启停LKA功能</td>
      </tr>
      <tr>
          <td>UFG-4</td>
          <td>系统退出后可自动恢复，不影响正常驾驶控制权</td>
      </tr>
      <tr>
          <td>UFG-5</td>
          <td>车道线丢失/恶劣天气等情况下不会误输出干预动作</td>
      </tr>
  </tbody>
</table>
<h2 id="23-性能目标可量化">2.3 性能目标（可量化）<a hidden class="anchor" aria-hidden="true" href="#23-性能目标可量化">#</a></h2>
<table>
  <thead>
      <tr>
          <th>性能目标编号</th>
          <th>目标指标</th>
          <th>备注</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>PG-1</td>
          <td>LKA最大延迟时间 ≤ 100ms</td>
          <td>感知 → 控制输出闭环延迟</td>
      </tr>
      <tr>
          <td>PG-2</td>
          <td>控制横向误差 ≤ ±0.25m</td>
          <td>保持在车道中心附近运行</td>
      </tr>
      <tr>
          <td>PG-3</td>
          <td>系统触发响应率 ≥ 95%</td>
          <td>在满足ODD场景下的正常激活成功率</td>
      </tr>
      <tr>
          <td>PG-4</td>
          <td>误触发率 ≤ 1%</td>
          <td>不应在无偏离趋势时误介入</td>
      </tr>
  </tbody>
</table>
<hr>
<h1 id="3-odd运行设计场景operational-design-domain">3. ODD运行设计场景（Operational Design Domain）<a hidden class="anchor" aria-hidden="true" href="#3-odd运行设计场景operational-design-domain">#</a></h1>
<p>LKA系统的功能有效性依赖于其所运行的场景边界条件。ODD（Operational Design Domain）定义了LKA系统允许执行的<em>物理环境</em>、<em>动态状态</em>和<em>感知能力约束</em>。系统<em>仅在满足ODD条件的场景下才允许激活和发挥作用</em>，超出ODD范围将<em>自动退出LKA功能</em>或<em>切换至LDW模式</em>。</p>
<h2 id="31-场景边界定义">3.1 场景边界定义<a hidden class="anchor" aria-hidden="true" href="#31-场景边界定义">#</a></h2>
<table>
  <thead>
      <tr>
          <th>类别</th>
          <th>条件范围</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>道路类型</td>
          <td>城市快速路、高速公路、封闭场地</td>
          <td>要求有明确可识别的车道线</td>
      </tr>
      <tr>
          <td>车道线状态</td>
          <td>清晰、连续的白色或黄色实线/虚线</td>
          <td>不支持无车道线或严重遮挡情形</td>
      </tr>
      <tr>
          <td>曲率半径</td>
          <td>&gt; 200m</td>
          <td>不适用于急弯或匝道出入口段</td>
      </tr>
      <tr>
          <td>车速范围</td>
          <td>20–70 km/h</td>
          <td>高于20 km/h才能启用，70 km/h以上建议交由ACC+LKA协同模块控制</td>
      </tr>
      <tr>
          <td>环境光照</td>
          <td>光线良好，白天或隧道内照明充足</td>
          <td>雨雾雪、逆光、夜间等条件下效果受限</td>
      </tr>
      <tr>
          <td>天气条件</td>
          <td>晴天、少云、无雨雪</td>
          <td>不支持雨天、水雾、积雪覆盖车道线等场景</td>
      </tr>
      <tr>
          <td>道路附加物</td>
          <td>道路无施工锥桶、无跨车道遮挡物</td>
          <td>存在遮挡或反光干扰时功能暂停</td>
      </tr>
      <tr>
          <td>驾驶员行为</td>
          <td>未打转向灯、未踩刹车、双手握方向盘</td>
          <td>打灯、换道、人工强控方向盘时自动退出</td>
      </tr>
      <tr>
          <td>传感器状态</td>
          <td>前视摄像头正常、图像清晰、感知模型正常工作</td>
          <td>摄像头故障或图像失真时立即退出</td>
      </tr>
  </tbody>
</table>
<h2 id="32-场景示例满足odd">3.2 场景示例（满足ODD）<a hidden class="anchor" aria-hidden="true" href="#32-场景示例满足odd">#</a></h2>
<ul>
<li><strong>高速直线路段，白天光照良好</strong>，车道线连续，系统可稳定介入控制；</li>
<li><strong>城市快速路缓弯段</strong>，无其他遮挡物，车道宽度充足，系统保持车辆居中；</li>
<li><strong>封闭测试场景</strong>，模拟车道线清晰铺设，适合算法迭代验证和仿真评估。</li>
</ul>
<h2 id="33-场景示例超出odd">3.3 场景示例（超出ODD）<a hidden class="anchor" aria-hidden="true" href="#33-场景示例超出odd">#</a></h2>
<ul>
<li><strong>夜间光照不足或雨天视线模糊时</strong>，LKA将退出，仅保留LDW功能；</li>
<li><strong>车道线被遮挡、施工区变化频繁</strong>，系统无法识别车道边界时退出；</li>
<li><strong>车辆驶入无车道线的路肩或变窄区域</strong>，不满足激活条件；</li>
<li><strong>驾驶员踩刹车或打转向灯主动变道</strong>，LKA立即退出并交还控制权。</li>
</ul>
<h2 id="34-odd扩展方向未来版本支持">3.4 ODD扩展方向（未来版本支持）<a hidden class="anchor" aria-hidden="true" href="#34-odd扩展方向未来版本支持">#</a></h2>
<table>
  <thead>
      <tr>
          <th>扩展方向</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>夜间/弱光感知增强</td>
          <td>利用红外补光或低照度图像增强模型</td>
      </tr>
      <tr>
          <td>弯道补偿算法</td>
          <td>基于BEV感知融合与预瞄控制模型优化小曲率能力</td>
      </tr>
      <tr>
          <td>与导航/高精地图联动</td>
          <td>使用高精地图信息提前获知车道结构</td>
      </tr>
      <tr>
          <td>雨雪场景鲁棒性</td>
          <td>引入多传感器融合（摄像头+毫米波+激光）提升边界识别准确率</td>
      </tr>
  </tbody>
</table>
<hr>
<h1 id="4-odc系统运行限制条件operational-design-constraints">4. ODC系统运行限制条件（Operational Design Constraints）<a hidden class="anchor" aria-hidden="true" href="#4-odc系统运行限制条件operational-design-constraints">#</a></h1>
<p>ODC（Operational Design Constraints）用于定义LKA系统在运行过程中必须遵守的边界条件与限制规则。即使系统所处环境满足ODD定义，但若当前状态违反任一ODC约束条件，LKA也将禁止激活或主动退出运行，以确保系统安全性、稳定性和驾驶员优先控制权。</p>
<h2 id="41-运行约束条件定义">4.1 运行约束条件定义<a hidden class="anchor" aria-hidden="true" href="#41-运行约束条件定义">#</a></h2>
<table>
  <thead>
      <tr>
          <th>编号</th>
          <th>约束项</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>ODC-1</td>
          <td>转向灯信号开启</td>
          <td>当左/右转向灯打开时，系统认为驾驶员意图变道，应立即退出LKA</td>
      </tr>
      <tr>
          <td>ODC-2</td>
          <td>双闪灯激活</td>
          <td>处于紧急状态或临时停靠状态，系统应不干预</td>
      </tr>
      <tr>
          <td>ODC-3</td>
          <td>驾驶员主动转动方向盘</td>
          <td>检测到方向盘角度变化速率超过阈值，系统认为驾驶员主动控制方向，应立即退出</td>
      </tr>
      <tr>
          <td>ODC-4</td>
          <td>踩下制动踏板</td>
          <td>驾驶员主动制动，系统退出LKA，交还横向控制权</td>
      </tr>
      <tr>
          <td>ODC-5</td>
          <td>当前车速 &lt; 最低激活阈值</td>
          <td>若车辆行驶速度低于设定下限（如20km/h），系统禁止进入LKA状态</td>
      </tr>
      <tr>
          <td>ODC-6</td>
          <td>档位不为前进档</td>
          <td>档位处于倒挡或空挡时，不满足激活条件</td>
      </tr>
      <tr>
          <td>ODC-7</td>
          <td>App未授权开启LKA</td>
          <td>用户侧未开启LKA功能开关，系统禁止启用</td>
      </tr>
      <tr>
          <td>ODC-8</td>
          <td>摄像头识别车道线失败</td>
          <td>感知失败，系统无法进行车道居中控制，需退出LKA</td>
      </tr>
      <tr>
          <td>ODC-9</td>
          <td>系统内检测故障或通信异常</td>
          <td>控制器或转向系统等通信异常，应立刻退出LKA功能</td>
      </tr>
  </tbody>
</table>
<h2 id="42-odc触发后的系统行为">4.2 ODC触发后的系统行为<a hidden class="anchor" aria-hidden="true" href="#42-odc触发后的系统行为">#</a></h2>
<table>
  <thead>
      <tr>
          <th>场景</th>
          <th>LKA行为</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>检测到任一ODC约束违反</td>
          <td>立即中止控制输出，退出LKA功能</td>
      </tr>
      <tr>
          <td>控制退出后满足条件恢复</td>
          <td>系统可自动重新激活（如未打灯、车速恢复）</td>
      </tr>
      <tr>
          <td>持续ODC违规状态</td>
          <td>系统维持LKA退出状态，仅保留LDW提示</td>
      </tr>
      <tr>
          <td>控制退出后驾驶员未接管</td>
          <td>可协同AEB/LDW提示，确保安全</td>
      </tr>
  </tbody>
</table>
<h2 id="43-与驾驶员控制权交互策略">4.3 与驾驶员控制权交互策略<a hidden class="anchor" aria-hidden="true" href="#43-与驾驶员控制权交互策略">#</a></h2>
<p>LKA系统始终保持<strong>驾驶员优先权</strong>原则：</p>
<ul>
<li>若驾驶员主动控制方向（打灯/转动方向盘），系统应无条件退出；</li>
<li>驾驶员干预结束后，若其他条件满足，可自动恢复LKA控制；</li>
<li>系统退出时需通过HMI或提示音明确通知驾驶员当前控制状态。</li>
</ul>
<h2 id="44-异常状态处理建议">4.4 异常状态处理建议<a hidden class="anchor" aria-hidden="true" href="#44-异常状态处理建议">#</a></h2>
<table>
  <thead>
      <tr>
          <th>异常类别</th>
          <th>建议策略</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>感知失效（如车道线消失）</td>
          <td>输出“LKA退出”状态信号，HMI同步提示</td>
      </tr>
      <tr>
          <td>传感器漂移或数据跳变</td>
          <td>启动状态滤波、限制控制更新频率，必要时退出</td>
      </tr>
      <tr>
          <td>通信断链或控制器超时</td>
          <td>启动系统故障标志，立即断开控制输出</td>
      </tr>
  </tbody>
</table>
<hr>
<h1 id="5-系统接口定义system-interface-definition">5. 系统接口定义（System Interface Definition）<a hidden class="anchor" aria-hidden="true" href="#5-系统接口定义system-interface-definition">#</a></h1>
<p>本章定义LKA系统与外部模块之间的输入输出信号接口，包括信号名称、数据类型、单位和使用说明。这些接口信号涵盖感知输入、控制输出、系统状态反馈等内容，确保系统功能在各子模块间高效协同运行。</p>
<h2 id="51-输入信号列表">5.1 输入信号列表<a hidden class="anchor" aria-hidden="true" href="#51-输入信号列表">#</a></h2>
<table>
  <thead>
      <tr>
          <th>编号</th>
          <th>信号名称</th>
          <th>描述</th>
          <th>单位/格式</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>1</td>
          <td><code>leftoffset</code></td>
          <td>距离左车道线的横向距离</td>
          <td>m</td>
      </tr>
      <tr>
          <td>2</td>
          <td><code>rightoffset</code></td>
          <td>距离右车道线的横向距离</td>
          <td>m</td>
      </tr>
      <tr>
          <td>3</td>
          <td><code>vehiclehalfwidth</code></td>
          <td>车身宽度的一半</td>
          <td>m</td>
      </tr>
      <tr>
          <td>4</td>
          <td><code>appldkenable</code></td>
          <td>App端开启LKA使能信号</td>
          <td>Bool（0/1）</td>
      </tr>
      <tr>
          <td>5</td>
          <td><code>vehiclespeed</code></td>
          <td>本车当前速度</td>
          <td>km/h</td>
      </tr>
      <tr>
          <td>6</td>
          <td><code>gear</code></td>
          <td>当前档位信息</td>
          <td>枚举（P/R/N/D）</td>
      </tr>
      <tr>
          <td>7</td>
          <td><code>minspeed</code></td>
          <td>LKA允许的最低激活车速</td>
          <td>km/h</td>
      </tr>
      <tr>
          <td>8</td>
          <td><code>turnleft</code></td>
          <td>左转向灯状态</td>
          <td>Bool（0/1）</td>
      </tr>
      <tr>
          <td>9</td>
          <td><code>turnright</code></td>
          <td>右转向灯状态</td>
          <td>Bool（0/1）</td>
      </tr>
      <tr>
          <td>10</td>
          <td><code>brakestatus</code></td>
          <td>踩下刹车状态</td>
          <td>Bool（0/1）</td>
      </tr>
      <tr>
          <td>11</td>
          <td><code>xpreviewnear1/2</code></td>
          <td>左右近预瞄点 X 坐标</td>
          <td>m</td>
      </tr>
      <tr>
          <td>12</td>
          <td><code>ypreviewnear1/2</code></td>
          <td>左右近预瞄点 Y 坐标</td>
          <td>m</td>
      </tr>
      <tr>
          <td>13</td>
          <td><code>roadpointheading1/2</code></td>
          <td>左右近预瞄点航向角</td>
          <td>deg</td>
      </tr>
      <tr>
          <td>14</td>
          <td><code>xpreview</code></td>
          <td>远预瞄点 X 坐标</td>
          <td>m</td>
      </tr>
      <tr>
          <td>15</td>
          <td><code>ypreview</code></td>
          <td>远预瞄点 Y 坐标</td>
          <td>m</td>
      </tr>
      <tr>
          <td>16</td>
          <td><code>roadpointheading</code></td>
          <td>远预瞄点航向角</td>
          <td>deg</td>
      </tr>
      <tr>
          <td>17</td>
          <td><code>disfrontrear</code></td>
          <td>前后轴间距</td>
          <td>m</td>
      </tr>
      <tr>
          <td>18</td>
          <td><code>disleftright</code></td>
          <td>后轴轮距</td>
          <td>m</td>
      </tr>
  </tbody>
</table>
<h2 id="52-输出信号列表">5.2 输出信号列表<a hidden class="anchor" aria-hidden="true" href="#52-输出信号列表">#</a></h2>
<table>
  <thead>
      <tr>
          <th>编号</th>
          <th>信号名称</th>
          <th>描述</th>
          <th>单位/格式</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>1</td>
          <td><code>lkawarning</code></td>
          <td>LKA使能状态（是否正在控制）</td>
          <td>Bool</td>
      </tr>
      <tr>
          <td>2</td>
          <td><code>lkawarningleftright</code></td>
          <td>左右车道线偏离预警标志</td>
          <td>枚举或Bool</td>
      </tr>
      <tr>
          <td>3</td>
          <td><code>lkastate</code></td>
          <td>当前LKA状态（关闭/待激活/激活）</td>
          <td>枚举</td>
      </tr>
      <tr>
          <td>4</td>
          <td><code>lkalaneinfo</code></td>
          <td>当前识别到的左右车道线有效性信息</td>
          <td>数组/结构体</td>
      </tr>
      <tr>
          <td>5</td>
          <td><code>targetangle</code></td>
          <td>当前方向盘期望输出角度</td>
          <td>deg</td>
      </tr>
  </tbody>
</table>
<h2 id="53-接口说明与同步约定">5.3 接口说明与同步约定<a hidden class="anchor" aria-hidden="true" href="#53-接口说明与同步约定">#</a></h2>
<ul>
<li>所有输入信号以周期性采样方式读取，建议频率为 30Hz；</li>
<li>输出信号应具备时间戳标记，供上位机与HMI同步刷新；</li>
<li>所有角度类信号使用统一方向定义（左正右负或右正左负）；</li>
<li>所有状态类信号应支持异常状态标志（如信号丢失、故障标志）；</li>
<li>接口间数据同步需对接感知模块、转向控制器、HMI显示子系统。</li>
</ul>
<h2 id="54-系统接口拓扑示意示意">5.4 系统接口拓扑示意（示意）<a hidden class="anchor" aria-hidden="true" href="#54-系统接口拓扑示意示意">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>            +------------------------+
</span></span><span style="display:flex;"><span>            |   感知系统（Camera）    |
</span></span><span style="display:flex;"><span>            +------------------------+
</span></span><span style="display:flex;"><span>                    ↓ left/right offset
</span></span><span style="display:flex;"><span>                    ↓ lane heading
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            +------------------------+
</span></span><span style="display:flex;"><span>            |   LKA控制模块（本系统） |
</span></span><span style="display:flex;"><span>            +------------------------+
</span></span><span style="display:flex;"><span>                ↓          ↑
</span></span><span style="display:flex;"><span>     targetangle     appldkenable / brake / gear
</span></span><span style="display:flex;"><span>                ↓          ↑
</span></span><span style="display:flex;"><span>            +------------------------+
</span></span><span style="display:flex;"><span>            |   EPS转向执行器模块     |
</span></span><span style="display:flex;"><span>            +------------------------+
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            +------------------------+
</span></span><span style="display:flex;"><span>            |        HMI界面        |
</span></span><span style="display:flex;"><span>            +------------------------+
</span></span><span style="display:flex;"><span>                ↑ lkawarning / state
</span></span></code></pre></div><hr>
<h1 id="6-横向偏离速度模块lateral-deviation-velocity-module">6. 横向偏离速度模块（Lateral Deviation Velocity Module）<a hidden class="anchor" aria-hidden="true" href="#6-横向偏离速度模块lateral-deviation-velocity-module">#</a></h1>
<h2 id="61-模块功能概述">6.1 模块功能概述<a hidden class="anchor" aria-hidden="true" href="#61-模块功能概述">#</a></h2>
<p>横向偏离速度模块是LKA系统中偏离趋势检测的基础功能模块之一，主要用于估算车辆在车道内的横向偏离速度，为偏离预警逻辑和LKA控制判断提供输入依据。该模块通过比较左右车道线偏移量在连续帧之间的变化趋势，提取车辆横向漂移的动态特征。</p>
<h2 id="62-输入信号">6.2 输入信号<a hidden class="anchor" aria-hidden="true" href="#62-输入信号">#</a></h2>
<table>
  <thead>
      <tr>
          <th>信号名</th>
          <th>含义</th>
          <th>单位</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>leftoffset</code></td>
          <td>距离左车道线的横向偏移量</td>
          <td>m</td>
      </tr>
      <tr>
          <td><code>rightoffset</code></td>
          <td>距离右车道线的横向偏移量</td>
          <td>m</td>
      </tr>
  </tbody>
</table>
<p>这些信号由上游感知系统（摄像头识别+车体坐标变换）提供，表示当前车辆中心与左右车道线的实时偏距。</p>
<h2 id="63-输出信号">6.3 输出信号<a hidden class="anchor" aria-hidden="true" href="#63-输出信号">#</a></h2>
<table>
  <thead>
      <tr>
          <th>信号名</th>
          <th>含义</th>
          <th>单位</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>lateral_speed</code></td>
          <td>横向偏移速度估计值</td>
          <td>m/s</td>
      </tr>
  </tbody>
</table>
<p>该信号用于后续偏离预警判断逻辑模块中进行是否“即将压线”的预测判断。</p>
<h2 id="64-算法设计逻辑">6.4 算法设计逻辑<a hidden class="anchor" aria-hidden="true" href="#64-算法设计逻辑">#</a></h2>
<h3 id="641-差分法计算横向速度">6.4.1 差分法计算横向速度<a hidden class="anchor" aria-hidden="true" href="#641-差分法计算横向速度">#</a></h3>
<p>模块采用帧间差分算法估算左右偏移量的变化趋势：
<img alt="横向偏移速度计算公式" loading="lazy" src="/images/%E6%A8%AA%E5%90%91%E5%81%8F%E7%A7%BB%E9%80%9F%E5%BA%A6%E8%AE%A1%E7%AE%97%E5%85%AC%E5%BC%8F.png"></p>
<p>为避免误差干扰，系统引入阈值滤波：</p>
<ul>
<li>当偏移量变化绝对值小于阈值（如 0.05m）时，认为为噪声，不更新；</li>
<li>仅当偏移量突变超过阈值时，更新当前帧值。</li>
</ul>
<h3 id="642-模块结构图逻辑示意">6.4.2 模块结构图（逻辑示意）<a hidden class="anchor" aria-hidden="true" href="#642-模块结构图逻辑示意">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>leftoffset  ─┬─&gt;[Abs]─&gt;[阈值判断]─┬─&gt;[差分计算]
</span></span><span style="display:flex;"><span>             │                   │
</span></span><span style="display:flex;"><span>             └────&gt;[Unit Delay]──┘
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>rightoffset ─┬─&gt;[Abs]─&gt;[阈值判断]─┬─&gt;[差分计算]
</span></span><span style="display:flex;"><span>             │                   │
</span></span><span style="display:flex;"><span>             └────&gt;[Unit Delay]──┘
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                          ↓
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          ──────────&gt;[合成 lateral_speed]──────────&gt;
</span></span></code></pre></div><h3 id="643-伪代码简化逻辑">6.4.3 伪代码简化逻辑<a hidden class="anchor" aria-hidden="true" href="#643-伪代码简化逻辑">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> abs(leftoffset <span style="color:#f92672">-</span> prev_leftoffset) <span style="color:#f92672">&gt;</span> threshold:
</span></span><span style="display:flex;"><span>    d_left <span style="color:#f92672">=</span> leftoffset <span style="color:#f92672">-</span> prev_leftoffset
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    d_left <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> abs(rightoffset <span style="color:#f92672">-</span> prev_rightoffset) <span style="color:#f92672">&gt;</span> threshold:
</span></span><span style="display:flex;"><span>    d_right <span style="color:#f92672">=</span> rightoffset <span style="color:#f92672">-</span> prev_rightoffset
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    d_right <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>lateral_speed <span style="color:#f92672">=</span> (d_left <span style="color:#f92672">+</span> d_right) <span style="color:#f92672">/</span> delta_t
</span></span></code></pre></div><h2 id="65-模块特性与注意事项">6.5 模块特性与注意事项<a hidden class="anchor" aria-hidden="true" href="#65-模块特性与注意事项">#</a></h2>
<ul>
<li><strong>抗噪设计</strong>：通过设置动态偏移阈值避免小幅抖动触发速度波动；</li>
<li><strong>适配场景</strong>：车道线清晰、图像帧率稳定时效果最佳；</li>
<li><strong>与预警模块耦合紧密</strong>：该模块为偏离预警的先决条件之一；</li>
<li><strong>计算频率建议</strong>：与图像感知帧率一致（≥30Hz）；</li>
<li><strong>异常情况处理</strong>：当车道线识别失败或偏移值无效时，冻结 lateral_speed 为 0。</li>
</ul>
<hr>
<h1 id="7-偏离预警逻辑模块lane-departure-warning-logic-module">7. 偏离预警逻辑模块（Lane Departure Warning Logic Module）<a hidden class="anchor" aria-hidden="true" href="#7-偏离预警逻辑模块lane-departure-warning-logic-module">#</a></h1>
<h2 id="71-功能说明">7.1 功能说明<a hidden class="anchor" aria-hidden="true" href="#71-功能说明">#</a></h2>
<p>偏离预警逻辑模块用于判断当前车辆是否存在车道偏离趋势，并在满足多个触发条件的情况下，激活预警或联动LKA控制逻辑。本模块基于车辆横向速度、车道线位置关系以及其他状态参数，采用时间预测模型提前判断车辆是否即将压线，从而实现主动干预或告警。</p>
<h2 id="72-输入输出信号定义接口列表">7.2 输入/输出信号定义（接口列表）<a hidden class="anchor" aria-hidden="true" href="#72-输入输出信号定义接口列表">#</a></h2>
<h3 id="输入变量">输入变量<a hidden class="anchor" aria-hidden="true" href="#输入变量">#</a></h3>
<table>
  <thead>
      <tr>
          <th>编号</th>
          <th>信号名称</th>
          <th>描述</th>
          <th>备注</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>1</td>
          <td><code>leftoffset</code></td>
          <td>距离左车道线的偏距</td>
          <td>m</td>
      </tr>
      <tr>
          <td>2</td>
          <td><code>rightoffset</code></td>
          <td>距离右车道线的偏距</td>
          <td>m</td>
      </tr>
      <tr>
          <td>3</td>
          <td><code>vehiclehalfwidth</code></td>
          <td>车身宽度的一半</td>
          <td>m</td>
      </tr>
      <tr>
          <td>4</td>
          <td><code>appldwenable</code></td>
          <td>App 开启功能信号</td>
          <td>0/1</td>
      </tr>
      <tr>
          <td>5</td>
          <td><code>vehiclespeed</code></td>
          <td>本车车速</td>
          <td>km/h</td>
      </tr>
      <tr>
          <td>6</td>
          <td><code>gear</code></td>
          <td>档位信号</td>
          <td>—</td>
      </tr>
      <tr>
          <td>7</td>
          <td><code>minspeed</code></td>
          <td>最小使能车速</td>
          <td>km/h</td>
      </tr>
      <tr>
          <td>8</td>
          <td><code>turnleft</code></td>
          <td>左转向灯信号</td>
          <td>—</td>
      </tr>
      <tr>
          <td>9</td>
          <td><code>turnright</code></td>
          <td>右转向灯信号</td>
          <td>—</td>
      </tr>
  </tbody>
</table>
<h3 id="输出变量">输出变量<a hidden class="anchor" aria-hidden="true" href="#输出变量">#</a></h3>
<table>
  <thead>
      <tr>
          <th>编号</th>
          <th>信号名称</th>
          <th>描述</th>
          <th>备注</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>1</td>
          <td><code>ldwwarning</code></td>
          <td>LDW 预警信号</td>
          <td>—</td>
      </tr>
      <tr>
          <td>2</td>
          <td><code>ldwstate</code></td>
          <td>LDW 状态信号</td>
          <td>—</td>
      </tr>
      <tr>
          <td>3</td>
          <td><code>ldwlaneinfo</code></td>
          <td>左右车道线信号</td>
          <td>—</td>
      </tr>
  </tbody>
</table>
<h2 id="73-触发逻辑结构">7.3 触发逻辑结构<a hidden class="anchor" aria-hidden="true" href="#73-触发逻辑结构">#</a></h2>
<h3 id="731-压线预测公式">7.3.1 压线预测公式<a hidden class="anchor" aria-hidden="true" href="#731-压线预测公式">#</a></h3>
<p>模块基于以下判断条件，预测车辆在未来 $T_{\text{set}}$ 秒内是否会越过车道线边缘：
<img alt="偏离预测判断公式" loading="lazy" src="/images/%E5%81%8F%E7%A6%BB%E9%A2%84%E6%B5%8B%E5%88%A4%E6%96%AD%E5%85%AC%E5%BC%8F.png"></p>
<p>其中：</p>
<ul>
<li>$T_{\text{set}}$：预设判断时间窗口（默认3秒）；</li>
<li>$v_{\text{lateral}}$：横向偏移速度；</li>
<li>$d_{\text{offset}}$：当前偏移值（如rightoffset）；</li>
<li>$d_{\text{halfwidth}}$：车身宽度的一半。</li>
</ul>
<p>当上述不等式成立时，表明车辆在 $T_{\text{set}}$ 秒内将压线，进入预警判断链路。</p>
<h3 id="732-条件触发判断">7.3.2 条件触发判断<a hidden class="anchor" aria-hidden="true" href="#732-条件触发判断">#</a></h3>
<p>除预测偏离外，系统需同时满足以下使能条件：</p>
<ul>
<li>当前档位为“前进档”（gear ∈ D档）；</li>
<li>当前车速 ≥ <code>minspeed</code>（例如20 km/h）；</li>
<li>App中LKA功能已启用；</li>
<li>当前车道线偏移数据有效（左右距离大于最小可信阈值）；</li>
<li>横向偏移速度 $|v_{\text{lateral}}|$ 在设定范围内（如 0.5 ~ 1.3 m/s）；</li>
</ul>
<h3 id="733-组合判定">7.3.3 组合判定<a hidden class="anchor" aria-hidden="true" href="#733-组合判定">#</a></h3>
<p>所有条件通过布尔逻辑 <code>AND</code> 联合判断，仅在全部条件成立时，输出偏离预警信号（<code>ldwwarning = True</code>），否则为 False。</p>
<h2 id="74-输出信号">7.4 输出信号<a hidden class="anchor" aria-hidden="true" href="#74-输出信号">#</a></h2>
<table>
  <thead>
      <tr>
          <th>信号名</th>
          <th>含义</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>ldwwarning</code></td>
          <td>偏离预警激活标志（True/False）</td>
      </tr>
  </tbody>
</table>
<p>该信号可联动仪表显示、HMI语音提示或传递至LKA控制模块启动方向干预。</p>
<h2 id="75-模块备注">7.5 模块备注<a hidden class="anchor" aria-hidden="true" href="#75-模块备注">#</a></h2>
<ul>
<li>若当前左右车道线信息缺失，则禁止偏离逻辑触发；</li>
<li>若横向速度过低，认为偏移趋势不显著，不触发预警；</li>
<li>模块响应周期与图像帧率同步，建议为30Hz或更高；</li>
<li>本模块共享与 LDW/LKA 两套系统，可单独启用。
&quot;&quot;&quot;</li>
</ul>
<h1 id="8-期望转角计算模块target-steering-angle-calculation-module">8. 期望转角计算模块（Target Steering Angle Calculation Module）<a hidden class="anchor" aria-hidden="true" href="#8-期望转角计算模块target-steering-angle-calculation-module">#</a></h1>
<h2 id="81-模块功能说明">8.1 模块功能说明<a hidden class="anchor" aria-hidden="true" href="#81-模块功能说明">#</a></h2>
<p>期望转角计算模块是LKA系统的核心控制模块之一。其作用是根据车辆当前位置与预瞄路径的空间几何关系，计算车辆在保持车道中心所需的前轮转角，并通过转向传动比转换为方向盘角度输出。该模块采用Ackermann运动模型实现路径跟踪精度和转角物理合理性的统一，确保控制行为稳定、可控、无突变。</p>
<h2 id="82-输入信号">8.2 输入信号<a hidden class="anchor" aria-hidden="true" href="#82-输入信号">#</a></h2>
<table>
  <thead>
      <tr>
          <th>信号名</th>
          <th>描述</th>
          <th>单位</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>xpreview</code>, <code>ypreview</code></td>
          <td>远预瞄点坐标</td>
          <td>m</td>
      </tr>
      <tr>
          <td><code>xpreviewnear1/2</code>, <code>ypreviewnear1/2</code></td>
          <td>左右近预瞄点坐标</td>
          <td>m</td>
      </tr>
      <tr>
          <td><code>roadpointheading</code>, <code>roadpointheading1/2</code></td>
          <td>路径朝向角（航向角）</td>
          <td>deg</td>
      </tr>
      <tr>
          <td><code>disfrontrear</code></td>
          <td>车辆前后轴间距（轴距）</td>
          <td>m</td>
      </tr>
      <tr>
          <td><code>disleftright</code></td>
          <td>后轴轮距</td>
          <td>m</td>
      </tr>
  </tbody>
</table>
<h2 id="83-输出信号">8.3 输出信号<a hidden class="anchor" aria-hidden="true" href="#83-输出信号">#</a></h2>
<table>
  <thead>
      <tr>
          <th>信号名</th>
          <th>描述</th>
          <th>单位</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>targetangle</code></td>
          <td>方向盘期望转角</td>
          <td>deg</td>
      </tr>
  </tbody>
</table>
<p>该输出将传递至EPS控制器，用于实现实际的方向控制。</p>
<h2 id="84-控制模型与计算方法">8.4 控制模型与计算方法<a hidden class="anchor" aria-hidden="true" href="#84-控制模型与计算方法">#</a></h2>
<h3 id="841-ackermann圆弧模型">8.4.1 Ackermann圆弧模型<a hidden class="anchor" aria-hidden="true" href="#841-ackermann圆弧模型">#</a></h3>
<p>LKA系统假设车辆以圆弧路径行驶，当前时刻的控制目标是将车辆驶向预设的预瞄点 \((x_t, y_t)\)。若车辆后轴中点坐标为 \((x_0, y_0)\)，则可通过圆弧几何关系求解控制所需的圆心和半径 \(R\)。</p>
<p>若车辆与目标点的连线正交，则认为转向角为0，车辆无需修正；否则，基于如下公式计算期望前轮转角：</p>
<p><img alt="期望转角" loading="lazy" src="/images/%E6%9C%9F%E6%9C%9B%E8%BD%AC%E8%A7%92.png"></p>
<p>其中 \( L \) 为轴距，\( R \) 为车辆到圆心的半径。</p>
<h3 id="842-圆心解算逻辑">8.4.2 圆心解算逻辑<a hidden class="anchor" aria-hidden="true" href="#842-圆心解算逻辑">#</a></h3>
<p>给定目标点和车辆当前位置，圆心 \((x_c, y_c)\) 落在车辆后轴延长线上，满足：</p>
<p><img alt="圆心等距" loading="lazy" src="/images/%E5%9C%86%E5%BF%83%E7%AD%89%E8%B7%9D%E6%9D%A1%E4%BB%B6.png"></p>
<p><img alt="车道线_圆心_约束条件" loading="lazy" src="/images/%E8%BD%A6%E9%81%93%E7%BA%BF_%E5%9C%86%E5%BF%83_%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6.png">
联立上述方程组即可解得 \(x_c, y_c\)，再计算半径 \(R\) 并推导出转角 \(\theta_t\)。</p>
<h3 id="843-转向传动比映射">8.4.3 转向传动比映射<a hidden class="anchor" aria-hidden="true" href="#843-转向传动比映射">#</a></h3>
<p>计算得到的前轮角 \(\theta_t\) 再乘以转向传动比 \(r_s\)，得到方向盘角度输出：</p>
<p><img alt="转向传动比" loading="lazy" src="/images/%E8%BD%AC%E5%90%91%E4%BC%A0%E5%8A%A8%E6%AF%94.png"></p>
<p>其中 \(r_s\) 依据车型配置（一般为12:1 ~ 20:1）设定。</p>
<h2 id="85-控制逻辑说明与优化点">8.5 控制逻辑说明与优化点<a hidden class="anchor" aria-hidden="true" href="#85-控制逻辑说明与优化点">#</a></h2>
<ul>
<li><strong>平滑更新</strong>：每帧更新期望角，避免转角突变，建议加入角速度限制（rate limiting）；</li>
<li><strong>冗余判断</strong>：当车道线不可用、预瞄点丢失时，自动保持当前方向或退出控制；</li>
<li><strong>适配不同车型</strong>：Ackermann模型通用性强，适配不同轴距与传动比配置；</li>
<li><strong>容错设计</strong>：当多条路径同时有效（左右识别均正常），可加权融合预瞄点；</li>
<li><strong>预瞄距离动态调整</strong>：根据车速动态选择预瞄点远近，以提升控制响应。</li>
</ul>
<hr>
<p>&quot;&quot;&quot;</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="//localhost:1313/tags/l2/">L2</a></li>
      <li><a href="//localhost:1313/tags/lka/">LKA</a></li>
      <li><a href="//localhost:1313/tags/%E8%87%AA%E5%8A%A8%E9%A9%BE%E9%A9%B6/">自动驾驶</a></li>
      <li><a href="//localhost:1313/tags/%E6%8E%A7%E5%88%B6%E7%AD%96%E7%95%A5/">控制策略</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<script src="/js/cursor-effects.js"></script>
<script>
  new CursorEffects({
    size: 2,
    shape: 'star',
    zIndex: 9999,
  });
</script>
</body>

</html>
